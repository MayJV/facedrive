# _*_ coding:utf-8 _*_
import json

from FaceDriving.settings import *
import redis

class RedisTT(object):
    def __init__(self):
        self.r = redis.Redis(host=REDIS_IP, port=6397, decode_responses=True,password=REDIS_PAWD)

    def insertRedis(self,keyName,jsonStr):
        self.r.lpush(keyName,jsonStr)

    def queryRedis(self,keyName):
        return self.r.lrange(keyName, 0, -1)


# if __name__ == '__main__':
#     tt = RedisTT()
#     query_redis = tt.queryRedis('d3')
#     print(type(query_redis))
#
# r = RedisTT().r
# bm = {"codeList": [[-0.14391332864761353, 0.1482236087322235, 0.12868183851242065, 0.024825096130371094, -0.11286213248968124, -0.03256988897919655, -0.11441218852996826, -0.13098034262657166, 0.07904225587844849, -0.09574912488460541, 0.23477448523044586, -0.09643059223890305, -0.1241534873843193, -0.08980248123407364, -0.009743418544530869, 0.1802986115217209, -0.22606158256530762, -0.1793537735939026, -0.0019060354679822922, 0.00102907232940197, 0.06473063677549362, -0.0002892336342483759, 0.027743907645344734, 0.051553256809711456, -0.13591551780700684, -0.359578937292099, -0.09421995282173157, -0.08563266694545746, 0.11442382633686066, -0.05361228436231613, -0.05742170289158821, 0.004166958853602409, -0.20709377527236938, -0.08181077241897583, 0.036422137171030045, 0.11353467404842377, 0.032841697335243225, -0.03597508370876312, 0.16308368742465973, -0.06028871238231659, -0.23921628296375275, 0.11029727756977081, 0.10268132388591766, 0.2703373432159424, 0.18975946307182312, 0.11858134716749191, 0.008074730634689331, -0.07647866755723953, 0.14410285651683807, -0.1420491486787796, 0.10495349019765854, 0.1255207359790802, 0.11065402626991272, 0.06895516812801361, 0.06858015060424805, -0.1735404133796692, 0.03841004893183708, 0.12061891704797745, -0.16552577912807465, 0.06691127270460129, 0.06353835016489029, 0.019945532083511353, 0.12789911031723022, -0.010714109055697918, 0.17947132885456085, 0.07752812653779984, -0.005012813955545425, -0.23560555279254913, 0.09937038272619247, -0.15014880895614624, -0.09005038440227509, 0.11431089788675308, -0.1455499529838562, -0.1226128488779068, -0.35081878304481506, -0.017057836055755615, 0.3831561505794525, 0.09895572066307068, -0.16974210739135742, 0.05037209019064903, 0.057954490184783936, -0.05834115296602249, 0.1247192993760109, 0.11860117316246033, -0.03347879648208618, 0.0013617202639579773, -0.12226065248250961, -0.010573855601251125, 0.24469958245754242, 0.007609067019075155, -0.051046572625637054, 0.19591957330703735, 0.014539411291480064, 0.011230411008000374, 0.039223868399858475, 0.02550595812499523, -0.0952974259853363, 0.05365759879350662, -0.15655826032161713, -0.07227139174938202, -0.013003057800233364, 0.04533660411834717, -0.026409273967146873, 0.12621358036994934, -0.19363924860954285, 0.09682852774858475, -0.030649054795503616, 0.04824668541550636, -0.08936149626970291, 0.07949671894311905, -0.10109725594520569, -0.0006588342366740108, 0.11827942728996277, -0.2368757277727127, 0.21743738651275635, 0.20591691136360168, 0.041315581649541855, 0.08113319426774979, 0.11111677438020706, 0.012932276353240013, 0.035595931112766266, 0.01520830299705267, -0.14126776158809662, -0.06881068646907806, 0.07415597140789032, -0.08252321183681488, 0.11327262222766876, 0.08108939230442047], [-0.11541590839624405, 0.12381510436534882, 0.05182100832462311, -0.0682472363114357, -0.12139430642127991, 0.014717485755681992, -0.08409421145915985, -0.12924975156784058, 0.11115280538797379, -0.11754968017339706, 0.20731468498706818, 0.038108572363853455, -0.19243663549423218, -0.055322106927633286, -0.07225047051906586, 0.13562741875648499, -0.18335983157157898, -0.12629981338977814, -0.0362110361456871, 0.008870597928762436, 0.0924452543258667, 0.05607482045888901, 0.019004810601472855, -0.022885464131832123, -0.0960465595126152, -0.3075093626976013, -0.09998445957899094, 0.0036540431901812553, 0.03447984904050827, -0.04652002826333046, -0.020826812833547592, 0.007788655813783407, -0.16293996572494507, 0.022162534296512604, 0.04100250452756882, 0.0823630541563034, -0.0046721636317670345, 0.004550251644104719, 0.15353254973888397, 0.021058987826108932, -0.25872018933296204, 0.11675655096769333, 0.040983647108078, 0.274422824382782, 0.24524474143981934, 0.010561513714492321, 0.026633625850081444, -0.12222396582365036, 0.12683828175067902, -0.12139955163002014, -0.00476607121527195, 0.18034103512763977, 0.13365697860717773, 0.01911076530814171, -0.0066180722787976265, -0.14032241702079773, -0.012412809766829014, 0.09919846057891846, -0.07824863493442535, 0.033942341804504395, 0.12717625498771667, -0.09765643626451492, 0.04792139679193497, -0.059068821370601654, 0.1664532870054245, 0.013496316969394684, -0.15980996191501617, -0.25173503160476685, 0.043988797813653946, -0.16764767467975616, -0.08608084917068481, 0.06596153974533081, -0.18031582236289978, -0.15052196383476257, -0.29880383610725403, -0.00036298297345638275, 0.35880130529403687, 0.10167499631643295, -0.17964786291122437, 0.05681579187512398, -0.06931520253419876, 0.03242867812514305, 0.076185442507267, 0.1418960988521576, -0.07121684402227402, 0.0567091703414917, -0.12679415941238403, -0.02319398894906044, 0.26568174362182617, -0.048612602055072784, -0.06306583434343338, 0.20742669701576233, 0.000675189308822155, 0.07910115271806717, 0.016803845763206482, 0.028473014011979103, -0.10179461538791656, 0.0012521715834736824, -0.1113819032907486, -0.02156628482043743, -0.07955222576856613, -0.12182066589593887, 0.02196064032614231, 0.12843884527683258, -0.15194711089134216, 0.1947186142206192, -0.050179045647382736, 0.10506398230791092, -0.045466743409633636, 0.04096924141049385, -0.1105787605047226, -0.015271773561835289, 0.12972643971443176, -0.20752538740634918, 0.2403755486011505, 0.20010338723659515, 0.0964311808347702, 0.09053580462932587, 0.20325185358524323, 0.07196067273616791, -0.048343632370233536, 0.08444320410490036, -0.1015457734465599, -0.05914441868662834, 0.008873412385582924, -0.07116357982158661, 0.17319150269031525, 0.009552950039505959], [-0.07980086654424667, 0.06712012737989426, 0.072224460542202, -0.037035420536994934, -0.05235720053315163, -0.03992566466331482, -0.0739225447177887, -0.1617600917816162, 0.10855591297149658, -0.08771680295467377, 0.24133996665477753, -0.10888627916574478, -0.22394970059394836, -0.10166984051465988, -0.019745390862226486, 0.17786237597465515, -0.20149831473827362, -0.09941761195659637, -0.00037445127964019775, -0.052940741181373596, 0.0643441453576088, -0.009186862967908382, 0.07208521664142609, 0.03439667075872421, -0.05861709266901016, -0.39414191246032715, -0.1259865164756775, -0.12985388934612274, 0.045131437480449677, -0.04951326549053192, -0.061874572187662125, 0.0028542429208755493, -0.1284617781639099, -0.015701940283179283, 0.011431143619120121, 0.09483949095010757, 0.010874370113015175, -0.12008525431156158, 0.19188591837882996, -0.04935276880860329, -0.18969258666038513, -0.05513738840818405, 0.03969117999076843, 0.21037046611309052, 0.20192700624465942, 0.06544201076030731, 0.018180783838033676, -0.12265186011791229, 0.12532462179660797, -0.14655746519565582, 0.07932678610086441, 0.10399161279201508, 0.019685043022036552, 0.023970797657966614, 0.01507119182497263, -0.11114971339702606, 0.014877562411129475, 0.10391782969236374, -0.1321517825126648, 0.0031782558653503656, 0.10229822993278503, -0.0970662534236908, -0.01754576340317726, -0.06636890769004822, 0.23405756056308746, 0.09482764452695847, -0.0996757224202156, -0.12092596292495728, 0.14321988821029663, -0.14578911662101746, -0.06988701969385147, 0.014126638881862164, -0.18551327288150787, -0.15408752858638763, -0.31664320826530457, 0.004061996936798096, 0.431863009929657, 0.07485894858837128, -0.15224894881248474, -0.0021355468779802322, -0.016688572242856026, -0.0034643025137484074, 0.1973704844713211, 0.16323506832122803, -0.01856849156320095, -0.011672783643007278, -0.12432724237442017, 0.025558393448591232, 0.225881889462471, -0.08964774012565613, -0.04465790092945099, 0.18839624524116516, -0.07078400254249573, 0.11742988228797913, 0.0182032510638237, 0.05511242523789406, -0.03495996445417404, 0.06486239284276962, -0.12816205620765686, 0.004624782130122185, 0.09636049717664719, -0.01824713498353958, -0.0016341255977749825, 0.12122321128845215, -0.1489802598953247, 0.047298938035964966, 0.021150611340999603, 0.013763519003987312, 0.060252249240875244, -0.05374426767230034, -0.10342372953891754, -0.07065117359161377, 0.17880311608314514, -0.1820460706949234, 0.15485502779483795, 0.20224671065807343, 0.08005322515964508, 0.12615002691745758, 0.07563295215368271, 0.10105831176042557, -0.003540206700563431, -0.0773574560880661, -0.25334444642066956, 0.024658236652612686, 0.07676449418067932, 0.03358934819698334, 0.054559484124183655, 0.01985323801636696]], "nameList": ["胡歌", "刘翔", "海洋"]}
# r.lpush('d3',json.dumps(bm))
# #
# # # r.delete('d3')
# print(r.lrange('d3',0,-1))
#
# import face_recognition
#
# picture_of_me = face_recognition.load_image_file("/root/no.jpg")
# my_face_encoding = face_recognition.face_encodings(picture_of_me)[0]
#
# bm = {'a':my_face_encoding.tolist()}
# r.lpush('d3',json.dumps(bm))
# print(np.asarray(array))